{% extends "base.html" %}
{% block title %}Edit Subject{% endblock %}
{% block content %}
<div class="d-flex justify-content-between mb-3">
  <h2>Edit Subject</h2>
  <a href="{{ url_for('admin_subjects') }}" class="btn btn-link">Back</a>
</div>

<form method="post" class="card p-3">
  <div class="mb-3">
    <label class="form-label">Code</label>
    <input name="code" class="form-control" value="{{ subject.code }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Title</label>
    <input name="title" class="form-control" value="{{ subject.title }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Units</label>
    <input name="units" class="form-control" value="{{ subject.units }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Program</label>
    <select name="program_id" class="form-select" required>
      <option value="">-- Select --</option>
      {% for p in programs %}
      <option value="{{ p.id }}" {% if subject.program_id == p.id %}selected{% endif %}>{{ p.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Year Level</label>
    <input name="year_level" class="form-control" value="{{ subject.year_level }}">
  </div>

  <div class="mb-3">
    <label class="form-label">Prerequisite (optional)</label>
    <select name="prerequisite_id" class="form-select">
      <option value="">-- None --</option>
      {% for sub in all_subjects %}
      <option value="{{ sub.id }}" {% if subject.prerequisite_id == sub.id %}selected{% endif %}>{{ sub.code }} - {{ sub.title }}</option>
      {% endfor %}
    </select>
  </div>

  <button class="btn btn-primary">Update</button>
</form>
{% endblock %}
