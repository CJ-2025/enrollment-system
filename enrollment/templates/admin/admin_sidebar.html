<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ title or "Admin Panel" }}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root { --bg:#f5f6f8; --card:#fff; --text:#212529; }
    [data-theme="dark"] { --bg:#0d1117; --card:#161b22; --text:#c9d1d9; }

    body { background:var(--bg); color:var(--text); }

    .sidebar {
      height:100vh; width:240px; position:fixed;
      background:#212529; color:#fff; padding-top:20px;
      top:0; left:0;
    }
    .sidebar a {
      color:#adb5bd; padding:12px 18px; display:block; text-decoration:none;
    }
    .sidebar a:hover, .sidebar a.active {
      background:#343a40; color:#fff;
    }

    .main { margin-left:240px; padding:24px; }

    .card-shadow {
      box-shadow:0 6px 18px rgba(0,0,0,0.08);
      background:var(--card); color:var(--text);
    }
  </style>
</head>

<body>

  <!-- SIDEBAR (visible on ALL admin pages) -->
  <div class="sidebar d-flex flex-column">
    <h5 class="text-center mb-3">Admin Panel</h5>

    <a href="/admin/dashboard" class="{% if request.path == '/admin/dashboard' %}active{% endif %}">
      <i class="bi bi-speedometer2 me-2"></i> Dashboard
    </a>

    {% if session['role'] == 'admin' %}
      <a href="/admin/users" class="{% if '/admin/users' in request.path %}active{% endif %}">
        <i class="bi bi-people me-2"></i> User Management
      </a>
      <a href="/admin/students" class="{% if '/admin/students' in request.path %}active{% endif %}">
        <i class="bi bi-list-ul me-2"></i> Student List
      </a>
      <a href="/admin/programs" class="{% if '/admin/programs' in request.path %}active{% endif %}">
        <i class="bi bi-book me-2"></i> Programs
      </a>
      <a href="/admin/subjects" class="{% if '/admin/subjects' in request.path %}active{% endif %}">
        <i class="bi bi-journal-bookmark me-2"></i> Subjects
      </a>
      <a href="/admin/instructors" class="{% if '/admin/instructors' in request.path %}active{% endif %}">
        <i class="bi bi-person-badge me-2"></i> Instructors
      </a>
      <a href="/admin/class_schedules" class="{% if '/admin/class_schedules' in request.path %}active{% endif %}">
        <i class="bi bi-calendar2-week me-2"></i> Class Schedules
      </a>
    {% endif %}

    <div class="mt-auto p-3">
      <a href="/logout" class="text-danger"><i class="bi bi-box-arrow-right me-2"></i> Logout</a>
    </div>
  </div>

  <!-- MAIN PAGE CONTENT -->
  <div class="main">
    {% block content %}{% endblock %}
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
